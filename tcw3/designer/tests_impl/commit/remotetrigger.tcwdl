use tcw3::pal;

use crate::commit::remotetrigger::{Comp, CompOther};

comp Comp {
    const wm: pal::Wm { set; }
    const state: std::cell::Cell<u32> = || std::cell::Cell::new(0);

    const other = CompOther { const wm = |wm| wm; };

    // TODO: on (other.prop1) |&state| state.set(state.get() + 1);
    on (other.event1) |&state| state.set(state.get() + 4);
}

comp CompOther {
    const wm: pal::Wm { set; }
    prop prop1: u32 { get; set; watch event(prop1_changed); } = || 1;
    event event1();
    event prop1_changed();
}
